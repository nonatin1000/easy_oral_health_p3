{% extends "base.html" %}

{% block body %}

<nav class="navbar navbar-default">
	<div class="container">
		<a class="navbar-brand" href="#">Procedimentos</a>
		<ul class="nav navbar-nav pull-right">
			<li>
				<p class="navbar-btn">
					<a class="btn btn-default" href="{% url 'procedure_register' %}"> 
						<span class="glyphicon glyphicon-file" aria-hidden="true"></span>
						Novo
					</a>
				</p>
			</li>
		</ul>
	</div>
</nav>

<div class="container">
	<div class="row">
		<div class="col-lg-12">
			<table class="table table-hover">
				<thead>
					<tr>
						<th>Status do Procedimento</th>
						<th>Divisão dos Dentes</th>
						<th style="width: 21%;">Ações</th>
					</tr>
				</thead>
				<tbody>
					{% for procedure in procedures %}
					<tr>
						<td>{{ procedure.procedure_status.name }}</td>
						<td>{{ procedure.tooth_division.name }}</td>
						<td>                    
							<a href="{% url 'procedure_show' procedure.id %}" class="btn btn-default" title="Exibir">
								<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
							</a>

							<a href="{% url 'procedure_edit' procedure.id %}" class="btn btn-default" title="Editar">
								<span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
							</a>

							<a href="#modal-id-{{ procedure.id }}" class="btn btn-default" title="Remover" data-toggle="modal">
								<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
							</a>
						</td>
					</tr>

					<!-- MODAL -->
					<div class="col-xs-12 col-sm-12 col-md-10 col-lg-10">
						<div class="modal fade" id="modal-id-{{ procedure.id }}">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
										<h4 class="modal-title">Alerta!</h4>
									</div>
									<div class="modal-body">
										<p>Deseja realmente remover <strong>{{ procedure.procedure_status.name }}</strong>?</p>
									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
										<a href="{% url 'procedure_delete' procedure.id %}" class='btn btn-danger' title='Exibir'>
											Delete
										</a>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- /MODAL -->
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
	</div>
</div>

{% endblock %}
